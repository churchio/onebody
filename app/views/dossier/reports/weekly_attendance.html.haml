- @title = report.formatted_title
- @report = report
= render partial: 'title'
.row
  .col-md-9
    %table.table
      %thead
        %tr
          %th= t('report.group_name')
          %th= t('report.attended_at')
          %th= t('report.first_name')
          %th= t('report.last_name')
          %th= t('report.attended')
      %tbody
        - report.results.body.each do |row|
          %tr
            - row.each do |value|
              %td= value
  .col-md-3
    .box.box-info.hidden-print
      .box-heading
      .box-body
        = form_for report, as: :options, url: url_for, html: {method: :get} do |f|
          .form-group
            = f.label t('report.fromdate')
            = f.date_field :fromdate, class: 'form-control', value: report.fromdate ? report.fromdate.to_s(:date) : nil
            = f.label t('report.thrudate')
            = f.date_field :thrudate, class: 'form-control', value: report.thrudate ? report.thrudate.to_s(:date) : nil
            = f.label t('report.group_name')
            = f.collection_select :sel_group, Group.all, :id, :name, {prompt: t('report.group_select') }, {class: "form-control"}
            = f.label t('report.type')
            = f.select :data_filter, [['Attended Only', 1], ['All', 2]], {selected: :nil}, {class: "form-control"}
          .form-group
            %tr
              %td
                = f.submit t('report.submit'), class: 'btn btn-info'
                = render partial: 'submit_form'
  .col-md-9
    = t('report.records', count: report.results.body.count)
